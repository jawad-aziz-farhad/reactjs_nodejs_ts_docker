#!/bin/sh
# Update AUTHORS.md based on git history.

git shortlog -n -e -s --all --no-merges | perl -we '
BEGIN {
  %seen = (), @authors = ();
}
while (<>) {
  next if $seen{$_};
  next if /(Jenkins)/;
  
  $seen{$_} = push @authors, "- ", $_;
}
END {
  print "# Authors\n\n";
  print "#### Ordered by contribution total\n\n";
  print @authors, "\n";
  print "#### Generated by bin/update-authors.sh\n";
}
' > authors.md
